<div *ngIf="raetselgruppenFacade.raetselgruppeDetails$ | async as gruppe else keineGruppe" fxLayout="column"
    fxLayoutGap="20px">

    <h2>Rätselgruppe {{gruppe.name}}</h2>

    <div flex fxLayout="row" fxLayoutGap="10px" fxLayout.lt-sm="column">
        <div fxLayoutAlign="left center" fxFlex="20">
            <mat-label>ID:</mat-label>
        </div>
        <div fxLayoutAlign="left center" fxFlex="30">{{gruppe.id}}</div>
        <div fxLayoutAlign="left center" fxFlex="10"><button mat-raised-button color="primary"
                (click)="reload()">reload</button></div>
    </div>

    <div flex fxLayout="row" fxLayoutGap="10px" fxLayout.lt-sm="column">
        <div fxLayoutAlign="left center" fxFlex="20">
            <mat-label>Anzahl Elemente:</mat-label>
        </div>
        <div fxLayoutAlign="left center" fxFlex="80">{{gruppe.elemente.length}}</div>
    </div>

    <div flex fxLayout="row" fxLayoutGap="10px" fxLayout.lt-sm="column">
        <div fxLayoutAlign="left center" fxFlex="20">
            <mat-label>Kommentar:</mat-label>
        </div>
        <div fxLayoutAlign="left center" fxFlex="80">{{gruppe.kommentar}}</div>
    </div>

    <div flex fxLayout="row" fxLayoutGap="10px" fxLayout.lt-sm="column">
        <div fxLayoutAlign="left center" fxFlex="20">
            <mat-label>geändert durch:</mat-label>
        </div>
        <div fxLayoutAlign="left center" fxFlex="80">{{gruppe.geaendertDurch}}</div>
    </div>

    <div flex fxLayout="row" fxLayoutGap="10px" fxLayout.lt-sm="column">
        <div fxLayoutAlign="left center" fxFlex="20">
            <mat-label>Status:</mat-label>
        </div>
        <div fxLayoutAlign="left center" fxFlex="80">{{gruppe.status}}</div>
    </div>

    <div flex fxLayout="row" fxLayoutGap="10px" fxLayout.lt-sm="column">
        <div fxLayoutAlign="left center" fxFlex="20">
            <mat-label>Referenztyp:</mat-label>
        </div>
        <div fxLayoutAlign="left center" fxFlex="80">{{gruppe.referenztyp}}</div>
    </div>

    <div flex fxLayout="row" fxLayoutGap="10px" fxLayout.lt-sm="column">
        <div fxLayoutAlign="left center" fxFlex="20">
            <mat-label>Referenz:</mat-label>
        </div>
        <div fxLayoutAlign="left center" fxFlex="80">{{gruppe.referenz}}</div>
    </div>

    <div flex fxLayout="row" fxLayoutGap="10px" fxLayout.lt-sm="column">
        <div *ngIf="!(gruppe.schreibgeschuetzt)" fxLayoutAlign="left center" fxFlex="20"><button fxFlexFill
                mat-raised-button color="primary" [disabled]="!getRaetselgruppeID()"
                (click)="openNeuesRaetselgruppenelementDialog()">neues
                Element</button>
        </div>
        <div *ngIf="!(gruppe.schreibgeschuetzt)" fxLayoutAlign="left center" fxFlex="20"><button fxFlexFill
                mat-raised-button color="primary" (click)="startEdit()">bearbeiten</button></div>
        <div fxLayoutAlign="left center" fxFlex="20"><button fxFlexFill mat-raised-button color="primary"
                (click)="generiereLaTeX()" [disabled]="buttonsGenerierenDisabled()">LaTeX herunterladen</button></div>
        <div fxLayoutAlign="left center" fxFlex="20"><button fxFlexFill mat-raised-button color="primary"
                (click)="generiereVorschau()" [disabled]="buttonsGenerierenDisabled()">Vorschau (PDF)</button>
        </div>
        <div fxLayoutAlign="left center" fxFlex="20"><button fxFlexFill mat-raised-button color="primary"
                (click)="gotoUebersicht()">zur Übersicht</button>
        </div>
    </div>

    <h2>Elemente</h2>

    <mja-raetselgruppenelemente [raetselgruppe]="gruppe" (showImages)="onShowImagesElement($event)"
        (editElement)="onEditElement($event)" (deleteElement)="onDeleteElement($event)">
    </mja-raetselgruppenelemente>

    <div *ngIf="gruppe.elemente.length > 0">
        <h2>Vorschau {{nummer}} ({{schluessel}})</h2>
        <div *ngIf="images else imagesFehlen">
            <mja-frage-loesung-images [images]="images"></mja-frage-loesung-images>
        </div>
    </div>
</div>

<ng-template #keineGruppe>
    <h2>Rätselgruppe Details</h2>
    <p>keine Gruppe ausgewählt</p>
</ng-template>

<ng-template #imagesFehlen>
    <p>Entweder wurde die Vorschau nicht geladen oder sie existiert nicht</p>
</ng-template>