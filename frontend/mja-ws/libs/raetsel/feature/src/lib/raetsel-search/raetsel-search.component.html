<h1>RÃ¤tsel</h1>

<mat-paginator [length]="anzahlRaetsel" [pageSizeOptions]="[20,30,50]" showFirstLastButtons></mat-paginator>

<mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort matSortActive="schluessel" matSortDirection="asc"
    matSortDisableClear>

    <ng-container matColumnDef="status">
        <mat-header-cell *matHeaderCellDef class="mat-header-cell__1"></mat-header-cell>
        <mat-cell *matCellDef="let raetsel" class="mat-cell__1"><span *ngIf="raetsel.status === 'ERFASST'">
                <mat-icon>block</mat-icon>
            </span>
            <span *ngIf="raetsel.status === 'FREIGEGEBEN'">
                <mat-icon>check_circle_outline</mat-icon>
            </span>
        </mat-cell>
    </ng-container>

    <ng-container matColumnDef="schluessel">
        <mat-header-cell *matHeaderCellDef mat-sort-header
            class="mat-header-cell__2">{{getHeaderSchluessel()}}</mat-header-cell>
        <mat-cell *matCellDef="let raetsel" class="mat-cell__2">{{raetsel.schluessel}}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef class="mat-header-cell__3">Name</mat-header-cell>
        <mat-cell *matCellDef="let raetsel" class="mat-cell__3"> {{raetsel.name}} </mat-cell>
    </ng-container>

    <ng-container *ngIf="!isAdmin" matColumnDef="deskriptoren">
        <mat-header-cell *matHeaderCellDef class="mat-header-cell__4">Deskriptoren</mat-header-cell>
        <mat-cell *matCellDef="let raetsel" class="mat-cell__4"> {{deskriptorenToString(raetsel)}} </mat-cell>
    </ng-container>

    <ng-container *ngIf="isAdmin" matColumnDef="kommentar">
        <mat-header-cell *matHeaderCellDef class="mat-header-cell__4">Kommentar</mat-header-cell>
        <mat-cell *matCellDef="let raetsel" class="mat-cell__4"> {{raetsel.kommentar}} </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="getDisplayedColumns(); sticky: true"></mat-header-row>
    <mat-row *matRowDef="let row; columns: getDisplayedColumns()" (click)="onRowClicked(row)"></mat-row>

</mat-table>